knitr::opts_chunk$set(echo = TRUE)
install.packages(tidyverse)
install.packages('tidyverse')
data <- read.csv('../data/D1.csv)
head(data)
head(data)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
data <- read.csv('../data/D1.csv)
data <- read.csv('../data/D1.csv')
head(data)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(lubridate)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("tm_final.csv")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv")
Sys.setenv(LANG = "en")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv")
getwd
?getwd
setwd(/Users/akleefel/Desktop/Portfolio/market_value_prediction/src)
setwd('/Users/akleefel/Desktop/Portfolio/market_value_prediction/src')
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv")
install.packages(readr)
install.packages('lubridate')
install.packages("lubridate")
knitr::opts_chunk$set(echo = TRUE)
install.packages('readr')
library(tidyverse)
library(readr)
library(lubridate)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", sep = ',')
?read.csv
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", sep =",")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", sep =",", encoding="utf-8")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read_csv("../data/tm.csv")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", sep =",", encoding="utf-8")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", sep =",", fileEncoding="utf-8")
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollst?ndiger.Name. = as.character(Vollst?ndiger.Name.)) %>%
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", sep =",", fileEncoding="utf-8")
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollst?ndiger.Name. = as.character(Vollst?ndiger.Name.)) %>%
head(tm_df)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv", fileEncoding="utf-8")
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollst?ndiger.Name. = as.character(Vollst?ndiger.Name.)) %>%
head(tm_df)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv")
tm_df <- read.csv("../data/tm.csv")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv",  header = TRUE, fileEncoding = "UTF-8")
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollst?ndiger.Name. = as.character(Vollst?ndiger.Name.)) %>%
tm_df
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv",  header = TRUE, fileEncoding = "latin1")
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollst?ndiger.Name. = as.character(Vollst?ndiger.Name.)) %>%
head(tm_df)
dim(tm_df)
head(tm_df)
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollst?ndiger.Name. = as.character(Vollst?ndiger.Name.)) %>%
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
Sys.setlocales("LC_ALL", "en_US.UTF-8")
?Sys.setlocales("LC_ALL", "en_US.UTF-8")
?Sys.setlocales("LC_ALL", "en_US.UTF-8")
could not find function "Sys.setlocales"
Sys.setlocales("LC_ALL", "en_US.UTF-8")
Sys.setlocales(„LC_ALL“, „en_US.UTF-8“)
head(tm_df)
head(tm_df)
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
Sys.setlocales("LC_ALL", "en_US.UTF-8")
#loading transfermarkt data set and adjusting date & name to improve merging with fifa data set
tm_df <- read.csv("../data/tm.csv",  header = TRUE, fileEncoding = "latin1")
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.character(Geburtsdatum.)) %>%
mutate(Vollständiger.Name. = as.character(Vollständiger.Name.)) %>%
mutate(X = as.character(X))
tm_df <- tm_df %>%
mutate(Geburtsdatum. = as.Date(Geburtsdatum., "%d.%m.%Y"))
#loading fifa data set and adjusting name format to improve merging of data frames
fifa_df <- read_csv("fifa.csv")
#loading fifa data set and adjusting name format to improve merging of data frames
fifa_df <- read_csv("../data/fifa.csv")
fifa_df <- fifa_df %>%
mutate(name_length = sapply(strsplit(full_name, " "), length)) %>%
mutate(match_name = ifelse(name_length > 2, name, full_name))
#merging
merged_df <- merge(x = tm_df, y = fifa_df, by.x = c("X", "Geburtsdatum."), by.y = c("match_name","birth_date"))
#exporting
write.csv(merged_df, file = "../results/players_merged.csv")
